---
title: "Untitled"
output: html_document
---



<pre class="r"><code># Libraries
library(&#39;MASS&#39;)
library(reshape2)</code></pre>
<pre><code>## Warning: package &#39;reshape2&#39; was built under R version 3.5.1</code></pre>
<pre class="r"><code># Number of participants
samples &lt;- 100

# Correlation between pre-test and post-test scores
r = 0.8

df &lt;- data.frame(round(mvrnorm(n=samples, mu=c(100, 100), Sigma=matrix(c(15^2, r, r, 15^2), nrow=2), empirical=TRUE)))

names(df) &lt;- c(&quot;Pretest&quot;, &quot;Posttest&quot;)

df$Subject &lt;- as.factor(1:100)

df$Group &lt;- as.factor(rep(c(&quot;Control&quot;, &quot;Training&quot;), each=samples/2))

head(df)</code></pre>
<pre><code>##   Pretest Posttest Subject   Group
## 1      91       98       1 Control
## 2      93       95       2 Control
## 3     118      115       3 Control
## 4     108       85       4 Control
## 5      93      102       5 Control
## 6     110       73       6 Control</code></pre>
<pre class="r"><code># Long format
df_long &lt;- melt(df, id.vars=c(&quot;Subject&quot;, &quot;Group&quot;), variable.name = &quot;Session&quot;, value.name = &quot;Score&quot;)

# Simulating improvement
impr_control &lt;- round(rnorm(n = samples/2, mean = 3, sd = 1))
impr_training &lt;- round(rnorm(n = samples/2, mean = 6, sd = 1))

# Add improvments
df_long$Score[df_long$Session == &quot;Posttest&quot;] &lt;- df_long$Score[df_long$Session == &quot;Posttest&quot;] + c(impr_control, impr_training) </code></pre>
